# 연관관계 매핑의 기초

- 목표 : 객체의 참조와 테이블의 외래키(나와 연관된 테이블을 찾는다.)가 어떻게 매핑되는 지를 탐구
<br/>

- 연관관계의 주인 :  객체 양방향 연관관계를 관리하는 주체
- 예제) 회원과 팀이 있고, 회원은 하나의 팀에만 소속될 수 있으며, 회원과 팀은 다대일 관계

## 1.  단방향 연관관계
```java
@ManyToMany //멤버 입장에서는 Many, 팀 입장에서는 one이므로
@JoinColumn(name = "TEAM_ID") //조인하는 컬럼명
private Team team;

```
- 객체의 참조와 db 외래키를 매핑해서 연관관계 매핑을 할 수 있다.

```java
EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");
EntityManager em = emf.createEntityManager();

EntityTransaction tx = em.getTransaction();
tx.begin();
try{
    Team team = new Team();
    team.setName("TeamA");
    em.persist(team);

    Member member= new Member();
    member.setTeam(team);
    member.setUsername("song");
    em.persist(member);
    
    Member findMember = em.find(Member.class, member.getId());
    Team findTeam = findMember.getTeam();
    System.out.println("findTeam = "+findTeam.getName());

    tx.commit();
}catch(Exception e){
    tx.rollback();
}finally {
    em.close();
}
emf.close();
```


## 2. 양방향 연관관계와 연관관계의 주인1-기본
## 3. 양방향 연관관계와 연관관계의 주인2-주의점, 정리
## 